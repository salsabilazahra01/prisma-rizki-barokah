<!DOCTYPE html>
<html lang="en" xmlns:th="http://thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Water</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Bootstrap css -->
    <link rel = "stylesheet" href = "/bootstrap/css/bootstrap.css">
    <link rel="stylesheet" href="/style.css">
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&display=swap" rel="stylesheet"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" integrity="sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!-- Bootstrap icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
</head>
<body>
<nav th:replace="fragments/fragment :: navbar('Laporan')"></nav>

<div class="container mt-lg-5">
    <div class="card m-4 p-4">
        <div class="card-body">
            <div class="justify-content-center">

                <div class="alert alert-success" role="alert" th:text="${success}" th:if="${success}"></div>
                <br>

                <!--title-->
                <div class="row">
                    <h2 class="h2">Daftar Transaksi Keuangan<span class="btn btn-primary-green bi-download mx-4"></span></h2>
                </div>

                <!--section bar-->
                <div th:if="${#strings.equals(jenis, 'semua')}">
                    <nav th:replace="fragments/fragment-transaksi :: navbar('Semua')"></nav>
                </div>
                <div th:if="${#strings.equals(jenis, 'pendapatan')}" >
                    <nav th:replace="fragments/fragment-transaksi :: navbar('Pendapatan')"></nav>
                </div>
                <div th:if="${#strings.equals(jenis, 'pengeluaran')}">
                    <nav th:replace="fragments/fragment-transaksi :: navbar('Pengeluaran')"></nav>
                </div>

                <!--total, tambah transaksi, filter-->
                <div class="row mt-3">
                    <div class="col text-start">
                        <h6 class="h6">Total</h6>
                        <h3 class="h4" th:text="'Rp ' + ${total} + ',00'"></h3>
                    </div>
                    <div class="col text-end">
                        <button type = "button" class = "btn-small btn-outline-primary-green h6 mt-4">
                            <span class="bi-plus"></span> Tambah Transaksi Baru
                        </button>
                        <button type = "button" class = "btn-small btn-primary-green h6 mt-4">
                            Filter <span class="bi-filter-right"></span>
                        </button>
                    </div>
                </div>
                <br>

                <!--list transaksi-->
                <div class="row" id="semuaTransaksi">
                    <br>
                    <table class="table table-striped text-center align-middle">
                        <thead>
                        <tr>
                            <th>ID Transaksi</th>
                            <th>Tanggal, Waktu</th>
                            <th>Nominal Transaksi</th>
                            <th th:if="${#strings.equals(jenis, 'semua')}">Jenis Transaksi</th>
                            <th></th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr th:each="transaksi, iterationStatus : ${listTransaksi}">
                            <td class="text-center" th:text="${transaksi.idTransaksi}"></td>
                            <td th:text="${#temporals.format(transaksi.tanggalTransaksi, 'dd-MM-yyyy HH:mm')}"></td>
                            <td th:text="'Rp ' + ${transaksi.nominal} + ',00'"></td>
                            <td th:if="${#strings.equals(jenis, 'semua')}" th:text="${transaksi.jenisTransaksi} ? 'Pengeluaran':'Pendapatan'"></td>
                            <td>
                                <a type="button" class="mx-2 btn-small btn-primary-green" th:href="@{/transaksi/view/} + ${transaksi.idTransaksi}">Detail</a>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>


<footer class = "py-4 container-primary-green">
    <div class = "container">
        <div class="text-white text-center">
            <div>
                <h2 class="h3 p-2">CV Prisma Rizki Barokah</h2>
            </div>
            <div>
                <p class="p3">Kantor : Komp. Griya Serdang Indah Blok C9/7, Kramatwatu – Serang</p>
            </div>
            <div>
                <p class="p3">Pabrik : Kavling Cipete Permai Kav N28-29, Desa Sukalaksana – Curug, Kota Serang</p>
            </div>
            <div>
                <p><span class="bi-envelope px-2"></span>e-mail<span class="bi-telephone px-2"></span>telepon-number</p>
            </div>
            <div>
                <p><span class="bi-c-circle"></span>CV Prisma Rizki Barokah</p>
            </div>
        </div>
    </div>
</footer>

<script src = "/bootstrap/js/bootstrap.js"></script>
<script src="/script.js"></script>

</body>
</html>